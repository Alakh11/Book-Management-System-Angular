<div class="bg-gray-100 p-6 rounded-lg shadow-lg text-gray-800 max-w-3xl mx-auto">
  <h2 class="text-2xl font-bold mb-4 text-center text-gray-700">Book List</h2>

  <!-- Search Input -->
  <div class="flex items-center space-x-2 mb-4">
    <input
      [(ngModel)]="searchQuery"
      placeholder="Enter the name of the book"
      class="flex-1 p-2 border border-gray-400 rounded-lg focus:ring focus:ring-blue-300 focus:outline-blue-100"
    />
    <button
      (click)="searchBooks()"
      class="p-2 bg-red-500 text-white py-2 px-4 font-semibold rounded-lg hover:bg-red-700 transition duration-200"
    >
      Search
    </button>
  </div>

  <!-- Loading Indicator -->
  <div *ngIf="loading" class="text-blue-500 font-semibold text-center mb-4">
    Searching for books, please wait...
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="text-red-600 font-semibold text-center mb-4">
    {{ errorMessage }}
  </div>

  <!-- Searched Results -->
  <div *ngIf="searchResults && searchResults.length > 0" class="mt-6">
    <h3 class="text-lg font-semibold text-dark mb-2">Searched Results</h3>
    <ul class="space-y-4">
      <li *ngFor="let book of searchResults" class="p-4 border border-gray-400 rounded-lg bg-white shadow-sm">
        <p><strong>Title:</strong> {{ book.title }}</p>
        <p><strong>Author(s):</strong> {{ book.author_name || 'Unknown' }}</p>
        <p><strong>Genre:</strong> {{ book.genre || 'Unknown' }}</p>
        <p><strong>Published Year:</strong> {{ book.first_publish_year || 'Unknown' }}</p>
        <p><strong>ISBN:</strong> {{ book.isbn || 'N/A' }}</p>
      </li>
    </ul>
  </div>

  <!-- No Results Found -->
  <div *ngIf="searchResults.length === 0 && searchQuery && !loading && !errorMessage" class="text-center text-gray-500 mt-4">
    No results found for "{{ searchQuery }}".
  </div>

  <!-- Local Books -->
<div class="container mx-auto bg-white p-6 rounded-lg shadow-md mt-8">
  <h3 class="text-lg font-semibold text-center text-dark mb-6 ">Your Books</h3>
  
  <div class="overflow-x-auto  shadow-sm rounded-lg">
    <table class="table-auto w-full border border-blue-300 ">
      <thead>
        <tr class="bg-secondary bg-opacity-10 text-dark">
          <th class="p-4 text-left font-medium">Title</th>
          <th class="p-4 text-left font-medium">Author</th>
          <th class="p-4 text-left font-medium">Genre</th>
          <th class="p-4 text-left font-medium">Published Year</th>
          <th class="p-4 text-left font-medium">ISBN</th>
        </tr>
      </thead>
     <!-- <tbody>
        <tr *ngFor="let book of books" class="border-b border-light hover:bg-accent transition ease-in-out duration-150">
          <td class="p-4">{{ book.title }}</td>
          <td class="p-4">{{ book.author }}</td>
          <td class="p-4">{{ book.genre }}</td>
          <td class="p-4">{{ book.publishedYear || 'N/A' }}</td>
          <td class="p-4">{{ book.isbn || 'N/A' }}</td>
        </tr>
      </tbody>-->
    </table>
    <p *ngIf="books.length === 0" class="text-center text-gray-500">You have no added books.</p>
  </div>
</div>


</div>
